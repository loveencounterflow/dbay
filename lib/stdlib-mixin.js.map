{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/stdlib-mixin.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'DBAY/MIXIN/STDLIB'\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\ninfo                      = CND.get_logger 'info',      badge\nurge                      = CND.get_logger 'urge',      badge\nhelp                      = CND.get_logger 'help',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\necho                      = CND.echo.bind CND\nE                         = require './errors'\n#-----------------------------------------------------------------------------------------------------------\nGUY                       = require 'guy'\n### https://day.js.org ###\ndayjs                     = require 'dayjs'\ndo =>\n  utc               = require 'dayjs/plugin/utc';               dayjs.extend utc\n  relativeTime      = require 'dayjs/plugin/relativeTime';      dayjs.extend relativeTime\n  toObject          = require 'dayjs/plugin/toObject';          dayjs.extend toObject\n  customParseFormat = require 'dayjs/plugin/customParseFormat'; dayjs.extend customParseFormat\n  duration          = require 'dayjs/plugin/duration';          dayjs.extend duration\n\n\n#-----------------------------------------------------------------------------------------------------------\nwalk_split_parts = ( text, splitter, omit_empty ) ->\n  parts = text.split splitter\n  parts = ( part for part in parts when ( not omit_empty ) or ( part isnt '' ) )\n  count = parts.length\n  for part, idx in parts\n    lnr = idx + 1\n    rnr = count - idx\n    yield { lnr, rnr, part, }\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@DBay_stdlib = ( clasz = Object ) => class extends clasz\n  ### TAINT use `cfg` ###\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ->\n    super()\n    GUY.props.hide @, '_dayjs', dayjs\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  _$stdlib_initialize: ->\n    @_stdlib_created = false\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  create_stdlib: ->\n    return null if @_stdlib_created\n    @_stdlib_created = true\n    prefix = 'std_'\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'sql_i'\n      deterministic:  true\n      varargs:        false\n      call:           ( name ) => @sql.I name\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'str_reverse'\n      deterministic:  true\n      varargs:        false\n      call:           ( s ) -> ( Array.from s ).reverse().join ''\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'str_join'\n      deterministic:  true\n      varargs:        true\n      call:           ( joiner, P... ) -> P.join joiner\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'str_is_blank'\n      deterministic:  true\n      varargs:        false\n      call:           ( s ) -> if ( /^\\s+$/ ).test s then 1 else 0\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_table_function\n      name:           prefix + 'str_split'\n      columns:        [ 'lnr', 'rnr', 'part', ]\n      parameters:     [ 'text', 'splitter', 'omit_empty', ]\n      deterministic:  true\n      varargs:        false\n      rows:           ( text, splitter, omit_empty = false ) ->\n        omit_empty = !!omit_empty\n        yield from walk_split_parts text, splitter, omit_empty\n        return null\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_table_function\n      name:           prefix + 'str_split_re'\n      columns:        [ 'lnr', 'rnr', 'part', ]\n      parameters:     [ 'text', 'splitter', 'flags', 'omit_empty', ]\n      deterministic:  false\n      varargs:        true\n      rows:           ( text, splitter, flags = null, omit_empty = false ) ->\n        omit_empty = !!omit_empty\n        if flags?     then  re = new RegExp splitter, flags\n        else                re = new RegExp splitter\n        yield from walk_split_parts text, re, omit_empty\n        return null\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_table_function\n      name:           prefix + 'str_split_first'\n      columns:        [ 'prefix', 'suffix', ]\n      parameters:     [ 'text', 'splitter', ]\n      deterministic:  true\n      varargs:        false\n      rows:           ( text, splitter ) ->\n        return null if ( text is null ) or ( splitter is null )\n        if ( idx = text.indexOf splitter ) < 0 then yield [ text, null, ]\n        else                                        yield [ text[ ... idx ], text[ idx + 1 .. ], ]\n        return null\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_table_function\n      name:           prefix + 'generate_series'\n      columns:        [ 'value', ]\n      parameters:     [ 'start', 'stop', 'step', ]\n      varargs:        true\n      deterministic:  true\n      rows: ( start, stop = Infinity, step = 1 ) ->\n        ### NOTE: `stop` differs from SQLite3, which has 9223372036854775807 ###\n        value = start\n        loop\n          break if value > stop\n          yield [ value, ]\n          value += step\n        return null\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_table_function\n      name:           prefix + 're_matches'\n      columns:        [ 'match', 'capture', ]\n      parameters:     [ 'text', 'pattern', ]\n      rows: ( text, pattern ) ->\n        regex = new RegExp pattern, 'g'\n        while ( match = regex.exec text )?\n          yield [ match[ 0 ], ( match[ 1 ] ? null ), ]\n        return null\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 're_is_match'\n      deterministic:  false\n      varargs:        false\n      call:           ( text, pattern ) -> if ( new RegExp pattern, 'g' ).test text then 1 else 0\n\n\n    #=======================================================================================================\n    # ASSERTS AND EXCEPTIONS\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'echo'\n      deterministic:  false\n      varargs:        false\n      call:           ( message ) -> echo message; return message\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'debug'\n      deterministic:  false\n      varargs:        false\n      call:           ( message ) -> debug message; return message\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'info'\n      deterministic:  false\n      varargs:        false\n      call:           ( message ) -> info message; return message\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'warn'\n      deterministic:  false\n      varargs:        false\n      call:           ( message ) -> warn message; return message\n\n\n    #=======================================================================================================\n    # ASSERTS AND EXCEPTIONS\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'raise'\n      deterministic:  true\n      varargs:        false\n      call: ( message ) ->\n        throw new Error message\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'raise_json'\n      deterministic:  true\n      varargs:        false\n      call: ( facets_json ) ->\n        try facets = JSON.parse facets_json catch error\n          throw new Error \"not a valid argument for std_raise_json: #{rpr facets}\"\n        error = new Error facets.message ? \"(no error message given)\"\n        for k, v of facets\n          continue if k is 'message'\n          error[ k ] = v\n        throw error\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'assert'\n      deterministic:  true\n      varargs:        false\n      call:           ( test, message ) ->\n        if ( not test? ) or ( test is 0 )\n          throw new Error message\n        return test\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'warn_if'\n      deterministic:  true\n      varargs:        false\n      call:           ( test, message ) -> warn message if ( test is 1 ); test\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'warn_unless'\n      deterministic:  true\n      varargs:        false\n      call:           ( test, message ) -> warn message if ( not test? ) or ( test is 0 ); test\n\n\n    #=======================================================================================================\n    # VARIABLES\n    #-------------------------------------------------------------------------------------------------------\n    @variables  = {}\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      name:           prefix + 'getv'\n      deterministic:  false\n      call:           @getv.bind @\n\n    #-------------------------------------------------------------------------------------------------------\n    @create_table_function\n      name:           prefix + 'variables',\n      deterministic:  false,\n      columns:        [ 'name', 'value', ]\n      parameters:     []\n      rows:           ( ( name ) -> yield [ name, ( @getv name ), ] for name of @variables ).bind @\n\n    #=======================================================================================================\n    # DATETIME\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      ### Returns a DBay_timestamp representing the present point in time. ###\n      name:           prefix + 'dt_now'\n      deterministic:  false\n      varargs:        false\n      call:           => @dt_now()\n    #-------------------------------------------------------------------------------------------------------\n    @create_function\n      ### Given a DBay_timestamp, returns an English human-readable text indicating the remoteness of that\n      time relative to now, like 'four minutes ago' or 'in a week'. ###\n      name:           prefix + 'dt_from_now'\n      deterministic:  false\n      varargs:        false\n      call:           ( dbay_timestamp ) => @dt_from_now dbay_timestamp\n\n    #-------------------------------------------------------------------------------------------------------\n    return null\n\n\n  #=========================================================================================================\n  # VARIABLES (2)\n  #---------------------------------------------------------------------------------------------------------\n  setv: ( name, value ) -> @variables[ name ] = value\n\n  #---------------------------------------------------------------------------------------------------------\n  getv: ( name ) ->\n    if ( R = @variables[ name ] ) is undefined\n      throw new E.DBay_unknown_variable '^dbay/stdlib@1^', name\n    return switch\n      when R is true  then 1\n      when R is false then 0\n      else R\n\n  #=========================================================================================================\n  # DATETIME (2)\n  #---------------------------------------------------------------------------------------------------------\n  _dt_dbay_timestamp_input_template:  'YYYYMMDD-HHmmssZ'\n  _dt_dbay_timestamp_output_template: 'YYYYMMDD-HHmmss[Z]'\n\n  #---------------------------------------------------------------------------------------------------------\n  dt_from_now: ( dbay_timestamp ) ->\n    return ( @dt_parse dbay_timestamp ).fromNow()\n\n  #---------------------------------------------------------------------------------------------------------\n  dt_now: -> @_dayjs().utc().format @_dt_dbay_timestamp_output_template\n\n  #---------------------------------------------------------------------------------------------------------\n  dt_parse: ( dbay_timestamp ) ->\n    @types.validate.dbay_dt_timestamp dbay_timestamp\n    R = ( @_dayjs dbay_timestamp, @_dt_dbay_timestamp_input_template ).utc()\n    throw new E.DBay_invalid_timestamp '^dbay/stdlib@1^', dbay_timestamp unless @types.isa.dbay_dt_valid_dayjs R\n    return R\n"
  ]
}