{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/query-mixin.coffee"
  ],
  "names": [],
  "mappings": "AACA;EAAA;AAAA,MAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,GAAA,EAAA,GAAA;;;EAIA,GAAA,GAA4B,OAAA,CAAQ,KAAR;;EAC5B,GAAA,GAA4B,GAAG,CAAC;;EAChC,KAAA,GAA4B;;EAC5B,KAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,OAAf,EAA4B,KAA5B,EAP5B;;;EASA,GAAA,GAA4B,OAAA,CAAQ,KAAR,EAT5B;;;EAaA,IAAC,CAAA,UAAD,GAAc,CAAE,QAAQ,MAAV,CAAA,GAAA;WAAsB,MAAA,QAAc,MAAd,CAAA;;MAGlC,WAAa,CAAA,CAAA;aACX,CAAA;QACA,GAAG,CAAC,KAAK,CAAC,GAAV,CAAc,IAAd,EAAiB,aAAjB,EAAgC;UAAE,UAAA,EAAY,KAAd;UAAqB,KAAA,EAAO,CAAA;QAA5B,CAAhC;AACA,eAAO;MAHI,CADf;;;MAOE,uBAAyB,CAAA,CAAA;AAC3B,YAAA;QAAI,KAAA,qBAAA;UAAA,OAAO,IAAC,CAAA,WAAW,CAAE,CAAF;QAAnB;AACA,eAAO;MAFgB,CAP3B;;;MAYE,KAAO,CAAE,GAAF,EAAA,GAAO,CAAP,CAAA;AACT,YAAA,IAAA,EAAA,YAAA,EAAA,SAAA;;QACI,SAAA,GAAY,8CAAc,CAAE,GAAF,QAAA,CAAE,GAAF,IAAW,IAAC,CAAA,IAAI,CAAC,OAAN,CAAc,GAAd,CAAzB;QACZ,YAAA,GAAgB,SAAS,CAAC;eAC1B,KAAA,CAAM,WAAN,EAAmB,YAAnB;MAJK,CAZT;;;;;;;;;;;MA0BE,OAAS,CAAE,GAAF,CAAA;AACX,YAAA;QAAI,IAAoE,0BAApE;UAAA,MAAM,IAAI,CAAC,CAAC,wBAAN,CAA+B,WAA/B,EAA4C,OAA5C,EAAqD,GAAA,CAAI,CAAJ,CAArD,EAAN;SAAJ;;AAEI,eAAO,IAAC,CAAA,KAAK,CAAC,IAAP,CAAY,GAAZ;MAHA,CA1BX;;;MAgCE,OAAS,CAAE,GAAF,CAAA,EAAA;;AAEP,eAAO,IAAC,CAAA,KAAK,CAAC,OAAP,CAAe,GAAf;MAFA;;IAlCyB;EAAtB;AAbd",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'DBAY/MIXIN/QUERY'\ndebug                     = CND.get_logger 'debug',     badge\n#...........................................................................................................\nguy                       = require 'guy'\n\n\n#===========================================================================================================\n@Dbay_query = ( clasz = Object ) => class extends clasz\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ->\n    super()\n    guy.props.def @, '_statements', { enumerable: false, value: {}, }\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  _clear_statements_cache: ->\n    delete @_statements[ k ] for k of @_statements\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  query: ( sql, P... ) ->\n    # @_echo 'query', sql\n    statement = ( @_statements[ sql ] ?= @sqlt.prepare sql )\n    returns_data  = statement.reader\n    debug '^0048560^', returns_data\n    # return statement.iterate P...\n\n  # #---------------------------------------------------------------------------------------------------------\n  # run: ( sql, P... ) ->\n  #   @_echo 'run', sql\n  #   statement = ( @_statements[ sql ] ?= @sqlt.prepare sql )\n  #   return statement.run P...\n\n  #---------------------------------------------------------------------------------------------------------\n  execute: ( sql ) ->\n    throw new E.Dba_argument_not_allowed '^dba@308^', \"extra\", rpr x if ( x = arguments[ 1 ] )?\n    # @_echo 'execute', sql\n    return @sqlt1.exec sql\n\n  #---------------------------------------------------------------------------------------------------------\n  prepare: ( sql  ) ->\n    # @_echo 'prepare', sql\n    return @sqlt1.prepare sql\n\n"
  ]
}