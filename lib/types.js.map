{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/types.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'DBAY/TYPES'\ndebug                     = CND.get_logger 'debug',     badge\nalert                     = CND.get_logger 'alert',     badge\nwhisper                   = CND.get_logger 'whisper',   badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\ninfo                      = CND.get_logger 'info',      badge\njr                        = JSON.stringify\nIntertype                 = ( require 'intertype' ).Intertype\nintertype                 = new Intertype module.exports\nDba                       = null\n\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_schema', ( x ) ->\n  ### NOTE to keep things simple, only allow lower case ASCII letters, digits, underscores in schemas ###\n  return false unless @isa.text x\n  return ( /^[a-z_][a-z0-9_]*$/ ).test x\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_usr_schema',     ( x ) -> ( @isa.dbay_schema x ) and ( x not in [ 'main', 'temp', ] )\n@declare 'dbay_path',           ( x ) -> @isa.text x\n@declare 'dbay_name',           ( x ) -> @isa.nonempty_text x\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'constructor_cfg', tests:\n  \"@isa.object x\":                            ( x ) -> @isa.object x\n  \"@isa.nonempty_text x.path\":                ( x ) -> @isa.nonempty_text x.path\n  \"@isa.boolean x.temporary\":                 ( x ) -> @isa.boolean x.temporary\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_with_transaction_cfg', tests:\n  \"@isa.object x\":                                    ( x ) -> @isa.object x\n  \"x.mode in [ 'deferred', 'immediate', 'exclusive', ]\": \\\n    ( x ) -> x.mode in [ 'deferred', 'immediate', 'exclusive', ]\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_open_cfg', tests:\n  \"@isa.object x\":                        ( x ) -> @isa.object x\n  \"@isa.dbay_usr_schema x.schema\":        ( x ) -> @isa.dbay_usr_schema x.schema\n  \"@isa_optional.dbay_path x.path\":       ( x ) -> @isa_optional.dbay_path x.path\n  \"@isa.boolean x.temporary\":             ( x ) -> @isa.boolean x.temporary\n  # \"@isa.boolean x.overwrite\":             ( x ) -> @isa.boolean x.overwrite\n  # \"@isa.boolean x.create\":                ( x ) -> @isa.boolean x.create\n\n\n#===========================================================================================================\n# UDF\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_create_function_cfg', tests:\n  \"@isa.object x\":                  ( x ) -> @isa.object x\n  \"@isa.nonempty_text x.name\":      ( x ) -> @isa.nonempty_text x.name\n  \"@isa.function x.call\":           ( x ) -> @isa.function x.call\n  \"@isa.boolean x.deterministic\":   ( x ) -> @isa.boolean x.deterministic\n  \"@isa.boolean x.varargs\":         ( x ) -> @isa.boolean x.varargs\n  \"@isa.boolean x.directOnly\":      ( x ) -> @isa.boolean x.directOnly\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_create_aggregate_function_cfg', tests:\n  \"@isa.object x\":                  ( x ) -> @isa.object x\n  \"@isa.nonempty_text x.name\":      ( x ) -> @isa.nonempty_text x.name\n  # \"@isa.any x.start\":               ( x ) -> @isa.any x.start\n  \"@isa.function x.step\":           ( x ) -> @isa.function x.step\n  \"@isa.boolean x.deterministic\":   ( x ) -> @isa.boolean x.deterministic\n  \"@isa.boolean x.varargs\":         ( x ) -> @isa.boolean x.varargs\n  \"@isa.boolean x.directOnly\":      ( x ) -> @isa.boolean x.directOnly\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_create_window_function_cfg', tests:\n  \"@isa.object x\":                    ( x ) -> @isa.object x\n  \"@isa.nonempty_text x.name\":        ( x ) -> @isa.nonempty_text x.name\n  # \"@isa.any x.start\":                 ( x ) -> @isa.any x.start\n  \"@isa.function x.step\":             ( x ) -> @isa.function x.step\n  \"@isa.function x.inverse\":          ( x ) -> @isa.function x.inverse\n  \"@isa_optional.function x.result\":  ( x ) -> @isa_optional.function x.result\n  \"@isa.boolean x.deterministic\":     ( x ) -> @isa.boolean x.deterministic\n  \"@isa.boolean x.varargs\":           ( x ) -> @isa.boolean x.varargs\n  \"@isa.boolean x.directOnly\":        ( x ) -> @isa.boolean x.directOnly\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_create_table_function_cfg', tests:\n  \"@isa.object x\":                    ( x ) -> @isa.object x\n  \"@isa.nonempty_text x.name\":        ( x ) -> @isa.nonempty_text x.name\n  \"@isa_optional.list x.columns\":     ( x ) -> @isa_optional.list x.columns\n  \"@isa_optional.list x.parameters\":  ( x ) -> @isa_optional.list x.parameters\n  \"@isa.generatorfunction x.rows\":    ( x ) -> @isa.generatorfunction x.rows\n  \"@isa.boolean x.deterministic\":     ( x ) -> @isa.boolean x.deterministic\n  \"@isa.boolean x.varargs\":           ( x ) -> @isa.boolean x.varargs\n  \"@isa.boolean x.directOnly\":        ( x ) -> @isa.boolean x.directOnly\n\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_create_virtual_table_cfg', tests:\n  \"@isa.object x\":                    ( x ) -> @isa.object x\n  \"@isa.nonempty_text x.name\":        ( x ) -> @isa.nonempty_text x.name\n  \"@isa.function x.create\":           ( x ) -> @isa.function x.create\n\n\n#===========================================================================================================\n# SQLGEN\n#-----------------------------------------------------------------------------------------------------------\n@declare 'dbay_create_insert_cfg', tests:\n  \"@isa.object x\":                                ( x ) -> @isa.object x\n  \"@isa.dbay_schema x.schema\":                    ( x ) -> @isa.dbay_schema x.schema\n  \"@isa.dbay_name x.into\":                        ( x ) -> @isa.dbay_name x.into\n  \"@isa_optional.nonempty_text x.on_conflict\":    ( x ) -> @isa_optional.nonempty_text x.on_conflict\n  \"either x.fields or x.exclude may be a nonempty list of nonempty_texts\": ( x ) ->\n    if x.fields?\n      return false if x.exclude?\n      return false unless @isa.list x.fields\n      return false unless x.fields.length is 0\n      return false unless x.fields.all ( e ) => @isa.nonempty_text e\n      return true\n    if x.exclude?\n      return false unless @isa.list x.exclude\n      return false unless x.exclude.length is 0\n      return false unless x.exclude.all ( e ) => @isa.nonempty_text e\n      return true\n    return true\n\n\n"
  ]
}